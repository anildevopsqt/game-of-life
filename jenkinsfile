pipeline{
    agent{
        label 'maven_jdk'
    }
    stages{
        stage('vcs'){
            steps{
            git branch: 'declarative', url: 'https://github.com/anildevopsqt/game-of-life.git'
            }
        }
        stage('build'){
            tools{jdk 'JDK_8'}
            steps {
            sh 'mvn package'
        }

        }
        stage('postbuild'){
            steps{
                archiveArtifacts artifacts: '**/target/gameoflife.war',
                                 onlyIfSuccessful: true
                junit testResult: '**/surefire-report/TEST-*.xml',
                allowEmptyResults : true
        }

        }
            
     }
}