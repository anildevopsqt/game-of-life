node('maven_jdk') {
    stage('version control') {
        git url: 'https://github.com/anildevopsqt/game-of-life.git',
            branch: 'scripted'
    }
    stage('build the code'){
     sh 'export PATH="/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin":$PATH',
     sh 'mvn package'        
    }
    stage('archive the artifacts') {
    archiveArtifacts onlyIfSuccessful: true,
    artifacts: '**/target/*.war',
    allowEmptyArchive: false
    
    }
    stage ('junit'){
        junit '**/TEST-*.xml',
        allowEmptyResults: true
    }
}

    
                    

    
